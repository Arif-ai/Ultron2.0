<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chef Ultron</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Gemini:wght@400;700&display=swap" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/style.css">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/public/ultron.jpeg">
</head>
<body>
  <main class="container py-5">
    <!-- Dark mode toggle -->
    <img src="/public/ultron.jpeg" id="dark-mode-toggle">

    <!-- Typing text -->
    <h1 class="text-center mb-5"><span id="typing-text"></span></h1>

    <!-- Form for image upload -->
    <form id="imageForm">
      <!-- Input for recipe prompt -->
      <input style="border-radius: 80px; display:none; " name="prompt" placeholder="Enter instructions here" type="text"
        class="form-control"
        value="Provide a recipe from the image, the name of the recipe you have provided, the nutritional facts of the recipe and the meal size (estimation of how many number of people it can cater to).">

      <!-- Uploaded image display -->
      <img id="uploadedImage" class="img-fluid rounded mx-auto d-block mb-3" src=""
        style="max-width: 300px; display: none; border-radius: 10px;">

      <div class="row mb-3">
        <div style="display: flex;">
          <!-- Generate button -->
          <button id="Go" name="submit" type="submit" class="btn btn-primary w-100">▶ Generate</button>

          <!-- Copy button (hidden by default) -->
          <button id="copy" name='copy' type="button" hidden class="btn btn-primary"
            style="flex: 1; margin-right: 10px;">📋 Copy</button>

          <!-- Regenerate button (hidden by default) -->
          <button id="regenerate" name='regenerate' type="submit" hidden class="btn btn-primary" style="flex: 1;">🔁
            Regenerate</button>

          <!-- Camera input -->
          <label style="border-radius: 80px;" class="input-group-text" for="cameraInput">
            <img src="/public/camera.png" width="20" height="20" class="invert-on-dark-mode">
          </label>
          <input type="file" id="cameraInput" accept="image/*" capture="environment" class="form-control" hidden>

          <!-- Image upload -->
          <label style="border-radius: 80px;" class="input-group-text" for="imageUpload">
            <img src="/public/upload.png" width="20" height="20" class="invert-on-dark-mode">
          </label>
          <input type="file" id="imageUpload" name="chosen-images" accept="image/*" multiple class="form-control"
            hidden>
        </div>
      </div>

      <!-- Loader icon -->
      <div class="output container">
        <div id='loader' class="loader" style="display:none;"></div>
      </div>

      <!-- Float images -->
      <div id="float" class="my-4 text-center">
        <img id="startgenerate" class="image-float" src="public/startgenerate.png" width="500" height="500">
        <img id="notfound" class="image-float" src="public/notfound.png" width="500" height="500" hidden>
      </div>
    </form>

    <!-- Similar recipe section -->
    <div id="float" class="similar_recipe" hidden>
        <!-- Cards for similar recipes -->
        <div class="card">
          <div class="card-details">
            <p class="output_preview_1" style="display:grid;overflow-y: auto; max-height: 40px;justify-content: center; text-align: center;"></p>
            <p class="text-body"></p>
          </div>
          <button id="preview_recipe_1" class="card-button" name='preview_recipe_1' type="button">🔍 Suggested Recipe</button>
        </div>
    </div>

    <br>

    <!-- Extra ingredients input, initially hidden -->
    <div id="extraIngredientsDiv" class="card" style="display:none;">
      <!-- Input field for extra ingredients -->
      <input type="text" id="extraIngredients" placeholder="e.g. butter, cinnamon, nutmeg" class="form-control mb-3">

      <!-- Button to update the recipe with extra ingredients -->
      <button id="updateButton" class="card-button">🍳 Update Recipe</button>
    </div>
    <br>

    <!-- Alert message for incompatible ingredients, initially hidden -->
    <div id="incompatible" style="display:none;" class="alert alert-warning text-center" role="alert">
      <i class="bi bi-exclamation-triangle">
        Incompatible ingredients will not be entertained.</i>
    </div>
  </main>

  <!-- Main JavaScript file -->
  <script type="module" src="/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.1/purify.min.js"></script>

  <!-- Footer -->
  <footer style="text-align: center; opacity: 0.6; background-color: none;">
    <br>
    <p>All rights reserved to Ultron &copy; 2024</p>
  </footer>
</body>
</html>
